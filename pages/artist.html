<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../asset/css/artist.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Rubik+Microbe&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courgette&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
</head>


<body>
    <header>



        <header>
            <div class="header">
                <div class="head1">
                    <a href="../pages/home.html"> <img src="../asset/images/logo1.png" width="100px" alt=""></a>
                </div>

                <!-- <div class="head2">
               
            <ul> 

            <li> <a href="userlogin.html"> Artist Login</a></li>

            <li><a href=""> Find Service</a></li>
        </ul> -->

                <!-- </div> -->
            </div>

            <div class="nav1">
                <ul>
                    <li> <a href="../pages/aboutus.html"> About us</a> </li>
                    <li> <a href="../pages/categories.html">Categories</a> </li> <br>
                    <li> <a href="../pages/home.html"> Home</a>
                    <li> <a href="../pages/findservice,.html">Find Service</a></li>
                    <li> <a href="../pages/userlogin.html">Artist Login</a></li>
            </div>
        </header>





        <!-- main -->

        <div class="fullbox">
            <form id="form_control">
                <div class="main">
                    <h1>Add your art Work</h1>
                    <!-- <i id="star" class="fa-solid fa-star-of-life"></i -->
                    <p>Home &#62; &#62; Artist Login &#62;&#62; Upload your Arts</p>

                </div>

                <div class="main1">
                    <h3>Art Work Detail</h3>

                    <p>
                        Select Art Work to Upload [Crop image so only the art shows (no frame, mat, other objects)] <i
                            id="star" class="fa-solid fa-star-of-life"></i> </p>
                    <hr>
                    <!-- <button>Choose file</button> No file chosen -->
                    <label>Choose URL
                        <input type="url" id="file_img" required></label>
                    <img id="display">

                    <span>
                        <p>Note: Our minimum printing resolution is 150 DPI. In order to offer larger prints, we suggest
                            you
                            to
                            upload a higher resolution image(more pixels).</p>
                    </span>
                    <br>
                    <textarea rows="10" cols="50" name="comment" form="usrform" id="des"
                        placeholder="Add your description" required>  </textarea>
                </div>

                <div class="empty">




                    <div class="content0">

                        <div class="content1">
                            <p>Title <i id="star" class="fa-solid fa-star-of-life"></i></p>
                            <input type="title" id="title" required>
                            <p>
                                Sold by<i class="fa-solid fa-star-of-life"></i> </p>
                            <input type="text" id="sold">


                            <div class="content2">

                                <p> Width and height(mm) <i id="star" class="fa-solid fa-star-of-life"></i></p>
                                <input type="size" id="size">

                            </div>


                        </div>
                    </div>


                    <div class="empty1">

                        <div class="content1">
                            <p>Art Work<i id="star" class="fa-solid fa-star-of-life"></i></p>
                            <select name="Art" id="Art_title" required>

                                <option>Canvas</option>
                                <option>Water colour</option>
                                <option>Realism</option>
                                <option> Hyper Realism</option>
                                <option>3D Arts</option>
                                <option>Mandana</option>

                            </select>
                            <p>
                                Genre<i id="star" class="fa-solid fa-star-of-life"></i> </p>
                            <select name="country" id="country" required>

                                <option>Domestic</option>
                                <option>Street Art</option>
                                <option>nature</option>
                                <option>Animals</option>



                            </select>

                            <div class="content2">


                            </div>



                        </div>

                    </div>

                </div>


                <div class="bottom0">

                    <div class="bottom">

                        <div class="bottom1">
                            <p>Show this artwork with my picture profile on artist listing page:</p>

                            <p>Sell Original Art
                        </div>

                        <div class="bottom2">
                            <input type="checkbox" id="show_art">
                            <br>
                            <input type="checkbox" id="sell_orginal">

                        </div>
                    </div>

                    <p>Price (in &#x20b9; ) <i id="star" class="fa-solid fa-star-of-life"></i></p>
                    <input type=" text" id="price" placeholder="&#x20b9;" pattern="[0-9]{4}">




                    <div class="atlast">
                        <div class="atlast1">
                            <button id="edit_btn">Edit</button>
                        </div>

                        <div class="atlast2">
                            <button type="submit">Post</button>
                        </div>

                        <div class="atlast3">
                            <button onclick="Delete()">Delete</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>


        <script>
            //click=101;submit=105;change=103
            let img_file = document.querySelector("#file_img");
            let display_img = document.querySelector("#display");

            // let arr;



            function upload() {
                // let img_details = JSON.parse(localStorage.getItem("upload"));
                // console.log(img_details)

                let name_check = JSON.parse(localStorage.getItem("upload"))
                let titles = document.getElementById("title").value;
                let check = 0;
                if (JSON.parse(localStorage.getItem("upload"))) {


                    name_check.find(e => {
                        if (e["title_name"] == titles) {
                            alert(titles + " already exist")
                            check = 1
                        }

                    })
                }

                if (check === 0) {
                    const obb_product = {}

                    let product = JSON.parse(localStorage.getItem("upload")) ?? []
                    let active_user = JSON.parse(localStorage.getItem("profile"))
                        active_user["email"]
                        let get_email = active_user["email"]

                    let arr = document.getElementById("file_img").value;
                    let title = document.getElementById("title").value;
                    let sold = document.getElementById("sold").value;
                    let size = document.getElementById("size").value;
                    let des = document.getElementById("des").value;
                    let prize = document.getElementById("price").value
                    let Art_title = document.getElementById("Art_title").value;
                    let show_art = document.getElementById("show_art").checked;

                    obb_product["status"] = true
                    obb_product["img"] = arr,
                        obb_product["title_name"] = title,
                        obb_product["artist_name"] = sold,
                        obb_product["size_by"] = size,
                        obb_product["descr"] = des,
                        obb_product["pr"] = prize,
                        obb_product["Art_title"] = Art_title,
                        obb_product["user_email"] = get_email

                        console.log(obb_product["user_email"] = get_email)
                        



                    if (show_art) {
                        // alert("loading");
                         
                        product.push(obb_product)
                        localStorage.setItem("upload", JSON.stringify(product));
                        // window.location.href = "../pages/categories.html"
                        window.location.href ="../pages/upload.html"
                    }
                    else {
                        alert("input button click hack you")
                    }
                }



            }




            // function Delete() {
                // let arr = JSON.parse(localStorage.getItem("upload"))
                // let delname = document.getElementById("title").value
                // arr.find(function (e, index) {
                //     if (e["title_name"] == delname) {
                //         arr.splice(index, 1)
                //         localStorage.setItem("upload", JSON.stringify(arr));
                //         console.log(delname)
                //     }
                // })
           



            // edit option
            let edit_btn = document.getElementById("edit_btn")
            edit_btn.addEventListener("click", el => {
                el.preventDefault()
                let photoDetails = JSON.parse(localStorage.getItem("upload"))
                const title_name = document.getElementById("title").value
                photoDetails.find(e => {
                    if (e["title_name"] == title_name) {
                        document.getElementById("title") = e["title_name"]
                        document.getElementById("sold") = e["artist_name"]
                        document.getElementById("size") = e["size_by"]
                        document.getElementById("des") = e["descr"]
                        document.getElementById("price") = e["pr"]
                        document.getElementById("file_img") = e["img"]


                        // document.getElementById("edit_btn").style.visibility = 'hidden';
                        // document.getElementById("update_btn").style.visibility = 'visible';
                    }
                });
            })



            const form_conrol = document.getElementById("form_control");
            form_conrol.addEventListener("submit", e => {
                upload()
                e.preventDefault()
            })






        </script>


</body>

</html>